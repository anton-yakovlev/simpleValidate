!function(r){var e={errorInputClass:"error",errorLabelClass:"label-error",errorLabelLeftClass:"label-error_left",emptyMessage:"Заполните поле"};r.fn.validate=function(t){var a=r.extend({},e,t);return this.init=function(){function e(e){if(e)for(var a=0;a<e.length;a++){var n=r(e[a]);!function(e){r(document).on("keyup",n,function(){t(e)})}(n)}}function t(r){var e=!o(r.val());e?s(r):l(r)}function n(e){if(e){d=[];for(var a=0;a<e.length;a++){var n=r(e[a]);t(n)}}}function o(r){return!Boolean(r)}function s(e){var t,n=e.attr("id"),o=e.attr("name")+"-error";e.removeClass(a.errorInputClass),t=r.inArray(n,d),d.splice(t,1),r("#"+o).remove()}function l(e){var t,n=e.attr("id"),o=e.attr("name")+"-error",s=e.attr("data-error-left"),l=e.attr("data-error-left-class"),i=e.attr("data-empty-error");e.addClass(a.errorInputClass),d.push(n),0===r("#"+o).length&&r("<label>",{id:o,text:function(){return i?i:a.emptyMessage},"for":n,"class":function(){return t=s?a.errorLabelClass+" "+(l?l:a.errorLabelLeftClass):a.errorLabelClass}()}).insertAfter(e)}function i(e){var t;"fail"===e?t=r("<div/>",{"class":"modal",id:"errorMessage",html:"Ошибка сервера, попробуйте еще раз"}):"success"===e&&(t=r("<div/>",{"class":"modal",id:"successMessage",html:"Все круто. Даннын отправились на сервер!"})),t.appendTo("body").bPopup({transition:"slideDown"})}function u(){d.length?console.log("You have arrors"):r.ajax({url:p,type:"POST",contentType:"application/json; charset-utf-8",dataType:"json",data:c.serialize()}).done(function(){console.log("success")}).fail(i("fail")).always(function(){console.log("complete")})}console.log("[ Start Validate Module ... ]");var c=r(this),f=c.find("input, textarea"),d=[],p=c.attr("data-url");r(document).on("submit",c,function(r){r.preventDefault(),console.log("[ Submit pushed ... ]"),n(f),e(f),u()})},this.init(),this}}(jQuery);