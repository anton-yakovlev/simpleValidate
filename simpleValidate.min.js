!function(e){function t(t,a){this.settings=e.extend({},r,a),this.element=t,this.init()}var r={errorInputClass:"error",errorLabelClass:"label-error",errorLabelLeftClass:"label-error_left",emptyMessage:"Заполните поле"};t.prototype.init=function(){function t(t){if(t)for(var a=0;a<t.length;a++){var n=e(t[a]);!function(t){e(document).on("keyup",n,function(){r(t)})}(n)}}function r(e){var t=!n(e.val());t?s(e):o(e)}function a(t){if(t){f=[];for(var a=0;a<t.length;a++){var n=e(t[a]);r(n)}}}function n(e){return!Boolean(e)}function s(t){var r,a=t.attr("id"),n=t.attr("name")+"-error";t.removeClass(u.errorInputClass),r=e.inArray(a,f),f.splice(r,1),e("#"+n).remove()}function o(t){var r,a=t.attr("id"),n=t.attr("name")+"-error",s=t.attr("data-error-left"),o=t.attr("data-error-left-class"),l=t.attr("data-empty-error");t.addClass(u.errorInputClass),f.push(a),0===e("#"+n).length&&e("<label>",{id:n,text:function(){return l?l:u.emptyMessage},"for":a,"class":function(){return r=s?u.errorLabelClass+" "+(o?o:u.errorLabelLeftClass):u.errorLabelClass}()}).insertAfter(t)}function l(t){var r='<div class="modal__header"><div class="b-close modal__close">Close</div> </div>',a="Ошибка сервера, попробуйте еще раз",n="Все круто. Даннын отправились на сервер!";"fail"===t?messageHtml=e("<div/>",{"class":"modal",id:"errorMessage",html:function(){return r+'<div class="modal__body">'+a+"</div>"}}):"success"===t&&(messageHtml=e("<div/>",{"class":"modal",id:"successMessage",html:function(){return r+'<div class="modal__body">'+n+"</div>"}})),messageHtml.appendTo("body").bPopup({transition:"slideDown"})}function i(){f.length?console.log("You have arrors"):e.ajax({url:m,type:"POST",contentType:"application/json; charset-utf-8",dataType:"json",data:c.serialize()}).done(function(){console.log("success")}).fail(l("fail")).always(function(){console.log("complete")})}console.log("[ Start Validate Module ... ]");var c=e(this.element),u=this.settings,d=c.find("input, textarea"),f=[],m=c.attr("data-url");e(document).on("submit",c,function(e){e.preventDefault(),a(d),t(d),i()})},e.fn.validate=function(e){return new t(this,e),this}}(jQuery);