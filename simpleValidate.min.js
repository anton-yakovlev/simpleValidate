!function(t){t.extend(t.fn,{validate:function(r){if(!this.length)return void(r&&r.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var e=t.data(this[0],"validator");return e?e:(this.attr("novalidate","novalidate"),e=new t.validator(this[0],r),t.data(this[0],"validator",e),this.on("submit",function(t){return t.preventDefault(),e.form()?(e.clearForm(),!0):!1}),e)},valid:function(){}}),t.validator=function(r,e){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=r,this.init()},t.extend(t.validator,{defaults:{errorInputClass:"error",errorLabelClass:"label-error",errorLabelLeftClass:"label-error_left",emptyMessage:"Заполните поле"},setDefaults:function(r){t.extend(t.validator.defaults,r)},prototype:{init:function(){this.errorList=[],$this=this},form:function(){return this.checkForm(),$this.valid()},checkForm:function(){for(var r=t(this.currentForm).find("input, textarea").not('input[type="file"], input[type="hidden"]'),e=0;e<r.length;e++)$this.check(t(r[e]));return $this.valid()},check:function(r){var e=r.val(),i=!$this.isEmpty(e),n=r.attr("name"),s=t.inArray(n,$this.errorList);return i?($this.doValid(r),$this.errorList.splice(s,1),!0):void(0>s&&($this.errorList.push(n),$this.doInvalid(r),$this.addErrorListener(r)))},addErrorListener:function(r){var e="#"+r.attr("id");t(document).on("keyup",e,function(){$this.check(r)})},removeErrorListeners:function(){for(var r=t($this.currentForm).find("input, textarea").not('input[type="file"], input[type="hidden"]'),e=0;e<r.length;e++){var i="#"+t(r[e]).attr("id");t(document).off("keyup",i)}},doValid:function(r){var e=r.attr("name")+"-error";r.removeClass($this.settings.errorInputClass),t("#"+e).remove()},doInvalid:function(r){var e=r.attr("id"),i=r.attr("name")+"-error",n=t("#"+i),s=r.data("errorLeft"),a=r.data("errorLeftClass"),o=r.data("emptyError");r.addClass($this.settings.errorInputClass),n.length||t("<label>",{id:i,text:function(){return o?o:$this.settings.emptyMessage},"for":e,"class":function(){var t;return t=s?$this.settings.errorLabelClass+" "+(a?a:$this.settings.errorLabelLeftClass):$this.settings.errorLabelClass}()}).insertAfter(r)},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},clearForm:function(){t($this.currentForm)[0].reset(),$this.removeErrorListeners()},isEmpty:function(t){return!Boolean(t)}}})}(jQuery);