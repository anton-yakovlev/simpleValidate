!function(r){var e={errorInputClass:"error",errorLabelClass:"label-error",errorLabelLeftClass:"label-error_left",emptyMessage:"Заполните поле"};r.fn.validate=function(t){var o=r.extend({},e,t);return this.init=function(){function e(e){if(e)for(var o=0;o<e.length;o++){var a=r(e[o]);!function(e){r(document).on("keyup",a,function(){t(e)})}(a)}}function t(r){var e=!n(r.val());e?s(r):l(r)}function a(e){if(e){errors=[];for(var o=0;o<e.length;o++){var a=r(e[o]);t(a)}}}function n(r){return!Boolean(r)}function s(e){var t,a=e.attr("id"),n=e.attr("name")+"-error";e.removeClass(o.errorInputClass),t=r.inArray(a,errors),errors.splice(t,1),r("#"+n).remove()}function l(e){var t,a=e.attr("id"),n=e.attr("name")+"-error",s=e.attr("data-error-left"),l=e.attr("data-error-left-class"),i=e.attr("data-empty-error");e.addClass(o.errorInputClass),errors.push(a),0===r("#"+n).length&&r("<label>",{id:n,text:function(){return i?i:o.emptyMessage},"for":a,"class":function(){return t=s?o.errorLabelClass+" "+(l?l:o.errorLabelLeftClass):o.errorLabelClass}()}).insertAfter(e)}function i(e){var t;"fail"===e?t=r("<div/>",{"class":"modal",id:"errorMessage",html:"Ошибка сервера, попробуйте еще раз"}):"success"===e&&(t=r("<div/>",{"class":"modal",id:"successMessage",html:"Все круто. Даннын отправились на сервер!"})),t.appendTo("body").bPopup({transition:"slideDown"})}function u(){errors.length?console.log("You have arrors"):r.ajax({url:serverUrl,type:"POST",contentType:"application/json; charset-utf-8",dataType:"json",data:c.serialize()}).done(function(){console.log("success")}).fail(i("fail")).always(function(){console.log("complete")})}console.log("[ Start Validate Module ... ]");var c=r(this);formInputs=c.find("input, textarea"),errors=[],serverUrl=c.attr("data-url"),console.log(c),console.log(formInputs),r(document).on("submit",c,function(r){r.preventDefault(),a(formInputs),e(formInputs),u()})},this.init(),this}}(jQuery);