!function(e){function r(r,n){this.settings=e.extend({},t,n),this.element=r,this.init()}var t={errorInputClass:"error",errorLabelClass:"label-error",errorLabelLeftClass:"label-error_left",emptyMessage:"Заполните поле",serverErrorMessage:"Ошибка сервера, попробуйте еще раз",serverSuccessMessage:"Все круто. Данные отправились на сервер!",serverErrorDataMessage:"Вы ввели не верные данные"};r.prototype.init=function(){function r(){e(document).on("submit",v,function(e){e.preventDefault();var r=s(v);r?a(v):t(v)})}function t(r){for(var t=r.find("input, textarea").not('input[type="file"], input[type="hidden"]'),n=0;n<t.length;n++){var a=e(t[n]),s="#"+e(t[n]).attr("id");!function(r){e(document).on("keyup",s,function(){i(r)})}(a)}}function n(r){for(var t=r.find("input, textarea").not('input[type="file"], input[type="hidden"]'),n=0;n<t.length;n++){var a="#"+e(t[n]).attr("id");e(document).off("keyup",a)}}function a(r){var t,n=r.serialize(),a=r.attr("data-url");return t=e.ajax({url:a,type:"POST",dataType:"json",data:n}),t.fail(function(){c("server-error",p.serverErrorMessage)}).done(function(e){"success"===e.status?c("success",p.serverSuccessMessage):c("error-data",p.serverErrorDataMessage),f(r)}),t}function s(e){var r=e.find("input, textarea").not('input[type="file"], input[type="hidden"]'),t=!0;return o(r)||(t=!1),t}function o(r){for(var t=!0,n=0;n<r.length;n++)i(e(r[n]))||(t=!1);return t}function i(e){var r=!u(e.val());return r?l(e):d(e),r}function u(e){return!Boolean(e)}function l(r){var t=r.attr("name")+"-error";r.removeClass(p.errorInputClass),e("#"+t).remove()}function d(r){var t=r.attr("id"),n=r.attr("name")+"-error",a=e("#"+n),s=r.data("errorLeft"),o=r.data("errorLeftClass"),i=r.data("emptyError");r.addClass(p.errorInputClass),a.length||e("<label>",{id:n,text:function(){return i?i:p.emptyMessage},"for":t,"class":function(){var e;return e=s?p.errorLabelClass+" "+(o?o:p.errorLabelLeftClass):p.errorLabelClass}()}).insertAfter(r)}function f(e){e[0].reset(),n(e)}function c(r,t){var n='<div class="modal__header"><div class="b-close modal__close">Close</div> </div>',a=e("<div/>",{"class":function(){return"modal modal-"+r}(),html:function(){return n+'<div class="modal__body">'+t+"</div>"}});a.appendTo("body").bPopup({transition:"slideDown"})}console.log("[ Start Validate Module ... ]");var v=e(this.element),p=this.settings;r()},e.fn.validate=function(e){return new r(this,e),this}}(jQuery);