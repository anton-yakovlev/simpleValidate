!function(t){t.extend(t.fn,{validate:function(r){if(console.log("[ Validate func ...]"),!this.length)return void(r&&r.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var e=t.data(this[0],"validator");return e?e:(this.attr("novalidate","novalidate"),e=new t.validator(this[0],r),t.data(this[0],"validator",e),this.on("submit",function(t){return t.preventDefault(),e.form()?(console.log("validator.form() : true"),!0):(console.log("validator.form() : false"),!1)}),e)},valid:function(){}}),t.validator=function(r,e){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=r,this.init()},t.extend(t.validator,{defaults:{errorInputClass:"error",errorLabelClass:"label-error",errorLabelLeftClass:"label-error_left",emptyMessage:"Заполните поле"},setDefaults:function(r){t.extend(t.validator.defaults,r)},prototype:{init:function(){this.submitted={},this.invalid={},this.valid=!0,this.errorList=[]},form:function(){return console.log("[ form() function ...]"),this.checkForm(),this.valid()||(console.log("[ form() function ... addErrorListeners]"),this.addErrorListeners()),this.valid()},checkForm:function(){for(var r=t(this.currentForm).find("input, textarea").not('input[type="file"], input[type="hidden"]'),e=0;e<r.length;e++)this.check(t(r[e]));return this.valid()},check:function(t){var r=t.val();return this.isEmpty(r)?void this.errorList.push("error"):!0},addErrorListeners:function(){for(var r=t(this.currentForm).find("input, textarea").not('input[type="file"], input[type="hidden"]'),e=this.check,n=0;n<r.length;n++){var i=t(r[n]),o="#"+t(r[n]).attr("id");!function(r){t(document).on("keyup",o,function(){e(r)})}(i)}},removeErrorListeners:function(){for(var r=t(this.currentForm).find("input, textarea").not('input[type="file"], input[type="hidden"]'),e=0;e<r.length;e++){var n="#"+t(r[e]).attr("id");t(document).off("keyup",n)}},doValid:function(r){var e=r.attr("name")+"-error";r.removeClass(settings.errorInputClass),t("#"+e).remove()},doInvalid:function(r){var e=r.attr("id"),n=r.attr("name")+"-error",i=t("#"+n),o=r.data("errorLeft"),a=r.data("errorLeftClass"),s=r.data("emptyError");r.addClass(this.settings.errorInputClass),i.length||t("<label>",{id:n,text:function(){return s?s:this.settings.emptyMessage},"for":e,"class":function(){var t;return t=o?this.settings.errorLabelClass+" "+(a?a:this.settings.errorLabelLeftClass):this.settings.errorLabelClass}()}).insertAfter(r)},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},isEmpty:function(t){return!Boolean(t)}}})}(jQuery);