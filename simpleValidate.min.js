!function(t){function e(e,r){this.settings=t.extend({},n,r),this.element=e,this.init()}var n={errorInputClass:"error",errorLabelClass:"label-error",emptyMessage:"Заполните поле"};e.prototype.init=function(){function e(e){if(e)for(var r=0;r<e.length;r++){var a=t(e[r]);!function(t){a.on("keyup",function(){n(t)})}(a)}}function n(t){var e=!a(t.val());e?o(t):s(t)}function r(e){if(e){f=[];for(var r=0;r<e.length;r++){var a=t(e[r]);n(a)}}}function a(t){return!Boolean(t)}function o(e){var n,r=e.attr("id"),a=e.attr("name")+"-error";e.removeClass(d.errorInputClass),n=t.inArray(r,f),f.splice(n,1),t("#"+a).remove()}function s(e){var n=e.attr("id"),r=e.attr("name")+"-error",a=e.attr("data-empty-error");e.addClass(d.errorInputClass),f.push(n),0===t("#"+r).length&&t("<label>",{id:r,text:function(){return a?a:d.emptyMessage},"for":n,"class":d.errorLabelClass}).insertAfter(e)}function i(e){var n;"fail"===e?n=t("<div/>",{"class":"modal",id:"errorMessage",html:"Ошибка сервера, попробуйте еще раз"}):"success"===e&&(n=t("<div/>",{"class":"modal",id:"successMessage",html:"Все круто. Даннын отправились на сервер!"})),n.appendTo("body").bPopup({transition:"slideDown"})}function l(){f.length?console.log("You have arrors"):t.ajax({url:p,type:"POST",contentType:"application/json; charset-utf-8",dataType:"json",data:u.serialize()}).done(function(){console.log("success")}).fail(i("fail")).always(function(){console.log("complete")})}console.log("[ Start Validate Module ... ]");var u=this.element,c=u.find("input, textarea"),f=[],d=this.settings,p=u.attr("data-url");u.on("submit",function(t){t.preventDefault(),r(c),e(c),l()})},t.fn.validate=function(t){return new e(this.first(),t),this.first()}}(jQuery);